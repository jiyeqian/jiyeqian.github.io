<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Jiye Qian" />
    <title>åˆ†ç±»å™¨èåˆï¼ˆ4ï¼‰ï¼šéšæœºæ£®æ—</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <link href="/feed/" rel="alternate" title="Jiye Qian" type="application/atom+xml" />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link rel="stylesheet" href="/assets/css/pygments/default.css" />
    <link rel="stylesheet" href="/assets/css/pygments/default_inline.css" />
    <link rel="stylesheet" href="/assets/css/coderay.css" />
    <link rel="stylesheet" href="/assets/css/twemoji-awesome.css" />  
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href="/assets/css/jquery-ui-1.10.4.custom.min.css" rel="stylesheet" />
    <link href="/assets/css/ggvis.css" rel="stylesheet" />
    <link href="/assets/css/mermaid.css" rel="stylesheet" />
    <link rel="stylesheet" href="/assets/css/markdown-plus.css"/> 
    <link rel="stylesheet" href="/assets/css/flexslider.css" type="text/css" media="screen" />
      <style type="text/css">
        .flex-caption {
          width: 96%;
          padding: 2%;
          left: 0;
          bottom: 0;
          background: rgba(0,0,0,.5);
          color: #fff;
          text-shadow: 0 -1px 0 rgba(0,0,0,.3);
          font-size: 14px;
          line-height: 18px;
        }
        li.css a {
          border-radius: 0;
        }
      </style>

    <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery-ui-1.10.4.custom.min.js"></script>
    <script type="text/javascript" src="/assets/js/d3.min.js"></script>
    <script type="text/javascript" src="/assets/js/vega.min.js"></script>
    <script type="text/javascript" src="/assets/js/lodash.min.js"></script>
    <script>var lodash = _.noConflict();</script>
    <script type="text/javascript" src="/assets/js/ggvis.js"></script>
    <script type="text/javascript" src="/assets/js/htmlwidgets.js"></script>
    <script type="text/javascript" src="/assets/js/echarts-all.js"></script>
    <script type="text/javascript" src="/assets/js/echarts.js"></script>
    <script defer src="/assets/js/jquery.flexslider-min.js"></script>
    <script type="text/javascript">
      // $(function(){
      //   SyntaxHighlighter.all();
      // });
      $(window).load(function(){
        $('.flexslider').flexslider({
          animation: "slide",
          start: function(slider){
            $('body').removeClass('loading');
          }
        });
      });
    </script>

    <script type="text/javascript">
      function setTimeSpan(){
        var date = new Date();
        timeSpan.innerText=date.format('yyyy-MM-dd hh:mm:ss');
      }

      Date.prototype.format = function(format)
      {
        var o =
        {
          "M+" : this.getMonth()+1, //month
          "d+" : this.getDate(),    //day
          "h+" : this.getHours(),   //hour
          "m+" : this.getMinutes(), //minute
          "s+" : this.getSeconds(), //second
          "q+" : Math.floor((this.getMonth()+3)/3),  //quarter
          "S" : this.getMilliseconds() //millisecond
        }
        if(/(y+)/.test(format))
          format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4 - RegExp.$1.length));
        for(var k in o)
          if(new RegExp("("+ k +")").test(format))
            format = format.replace(RegExp.$1,RegExp.$1.length==1 ? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));
          return format;
        }
      </script>

    <!-- MathJax for LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        "HTML-CSS": { extensions: ["handle-floats.js"] },
        TeX: { equationNumbers: { autoNumber: "AMS" } },
        tex2jax: {
            inlineMath: [['$$$', '$$$'], ['$', '$'], ['\\(', '\\)']],
            processEscapes: true
        }
    });
    </script>
    <!-- <script type="text/javascript" src="/assets/js/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
  <!-- <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F0b514f17fd99b9fb4be74c94bdd2b7db' type='text/javascript'%3E%3C/script%3E"));
</script>
 -->
  </head>
<!--  <body>
-->

  <body onLoad="setInterval(setTimeSpan,1000);">
    <div id="container">
      <div id="main" role="main">
        <header>
        <h1>åˆ†ç±»å™¨èåˆï¼ˆ4ï¼‰ï¼šéšæœºæ£®æ—</h1>
        </header>
        <nav id="real_nav">
        
          <span><a title="Home" href="/">Home</a></span>
        
          <span><a title="Categories" href="/categories/">Categories</a></span>
        
          <span><a title="Tags" href="/tags/">Tags</a></span>
        
          <span><a title="About" href="/about/">About</a></span>
        
          <span><a title="Search" href="/search/">Search</a></span>
        
        </nav>
        <article class="content">
        <script type="text/javascript" src="/assets/js/outliner.js"></script>

<section class="meta">
<span class="time">
  <time datetime="2015-01-24">2015-01-24</time>
</span>

 |
<span class="categories">
  <i class="fa fa-share-alt"></i>
  
  <a href="/categories/#ç ”ç©¶å­¦æœ¯" title="ç ”ç©¶å­¦æœ¯">ç ”ç©¶å­¦æœ¯</a>&nbsp;
  
</span>


 |
<span class="tags">
  <i class="fa fa-tags"></i>
  
  <a href="/tags/#æœºå™¨å­¦ä¹ åŸºç¡€" title="æœºå™¨å­¦ä¹ åŸºç¡€">æœºå™¨å­¦ä¹ åŸºç¡€</a>&nbsp;
  
  <a href="/tags/#åˆ†ç±»å™¨èåˆ" title="åˆ†ç±»å™¨èåˆ">åˆ†ç±»å™¨èåˆ</a>&nbsp;
  
  <a href="/tags/#ç‰¹å¾é€‰æ‹©" title="ç‰¹å¾é€‰æ‹©">ç‰¹å¾é€‰æ‹©</a>&nbsp;
  
</span>

</section>
<section class="post">
<h2 id="section">éšæœºæ£®æ—</h2>

<p>baggingé€šè¿‡æŠ•ç¥¨æˆ–å¹³å‡çš„æ–¹æ³•ï¼Œå¯ä»¥å‡å°‘varianceï¼›å†³ç­–æ ‘åŠŸèƒ½å¼ºå¤§ï¼Œ ä½†æ˜¯æœ‰å¾ˆå¤§çš„varianceã€‚èƒ½å¦å°†äºŒè€…èåˆèµ·æ¥ï¼Œä¼˜åŠ¿äº’è¡¥ï¼Ÿ  <br />
ï¼»1/3ï¼½random forestï¼ˆRFï¼‰ = bagging + fully-grown C&amp;RT treeã€‚  <br />
randomæè¿°äº†baggingä¸­bootstrappingè¿‡ç¨‹çš„éšæœºæ€§ï¼›forestè¡¨ç¤ºå¾ˆå¤šæ ‘çš„ç»„åˆã€‚</p>

<blockquote>
  <h4 id="section-1">éšæœºæ£®æ—ç®—æ³•</h4>
  <hr />
  <p>å¯¹äº$t=1,2,\ldots,T$ï¼Œå¾ªç¯æ‰§è¡Œï¼š</p>

  <ol>
    <li>é€šè¿‡bootstrappingæ–¹æ³•ä»$\mathcal D$ä¸­æŠ½å–å¤§å°ä¸º$Nâ€™$çš„æ•°æ®é›†$\tilde{\mathcal D}_t$ï¼›</li>
    <li>é€šè¿‡å†³ç­–æ ‘ç®—æ³•$\mbox{DTree}(\tilde{\mathcal D}_t)$å¾—åˆ°éå‰ªæçš„å®Œå…¨æˆé•¿æ ‘$g_t$ã€‚</li>
  </ol>

  <p>è¿”å›$G=\mbox{Uniform}(\{g_t\})$å°±æ˜¯éšæœºæ£®æ—ã€‚</p>
</blockquote>

<p>ä¸åŒçš„$g_t$æ˜¯åˆ†ç±»å™¨èåˆçš„å…³é”®ã€‚ä¸€ç§å¾—åˆ°ä¸åŒçš„$g_t$çš„æ–¹æ³•æ˜¯åœ¨baggingé˜¶æ®µï¼Œé€šè¿‡bootstrappingçš„æ–¹æ³•åˆ¶é€ æ•°æ®é›†çš„éšæœºæ€§ã€‚å¦ä¸€ç§å¾—åˆ°ä¸åŒ$g_t$çš„æ–¹æ³•æ˜¯åˆ¶é€ ç‰¹å¾çš„éšæœºæ€§ï¼Œåœ¨C&amp;RTé˜¶æ®µä»$\mathbf x$ä¸­éšæœºæŠ½å–$dâ€™$ç»´ç‰¹å¾ï¼š</p>

<ul>
  <li>éšæœºæŠ½å–ç´¢å¼•ä¸º$i_1,i_2,\ldots,i_{dâ€™}$çš„ç‰¹å¾ï¼Œç‰¹ç§ç©ºé—´ä»é«˜ç»´åˆ°ä½ç»´æŠ•å½±ï¼Œ$\Phi(\mathbf x)=\left(x_{i_1},x_{i_1},\ldots,x_{i_{dâ€™}}\right)$ï¼›</li>
  <li>$\mathcal Z\in\mathbb R^{dâ€™}$æ˜¯$\mathcal X\in\mathbb R^d$çš„<strong>éšæœºå­ç©ºé—´</strong>ï¼ˆrandom subspaceï¼‰ï¼›</li>
  <li>é€šå¸¸$dâ€™\ll d$ï¼Œå¯¹å¤§çš„$d$è¿™æ ·æ›´é«˜æ•ˆ<sup id="fnref:small-subspace"><a href="#fn:small-subspace" class="footnote">1</a></sup>ï¼›</li>
</ul>

<p>RFçš„åŸä½œè€…å»ºè®®C&amp;RTæ¯æ¬¡è®¡ç®—$b(\mathbf x)$æ—¶ï¼Œé‡æ–°æŠ½å–ç‰¹å¾ï¼Œå¾—åˆ°$dâ€™$ç»´ç‰¹å¾å­ç©ºé—´ï¼Œè®©å¾—åˆ°çš„æ ‘æ›´ä¸ä¸€æ ·ï¼š  <br />
ï¼»2/3ï¼½RF ï¼ bagging ï¼‹ random-subspace C&amp;RTã€‚  <br />
éšæœºä»$\mathbf x$ä¸­é‡‡æ ·$dâ€™$ç»´ç‰¹å¾å¯è®°ä¸º$\Phi(\mathbf x)=\mathbf P\mathbf x$ï¼Œåˆ©ç”¨$\mathbf P$çš„è¡ŒéšæœºæŠ½å–1ç»´ç‰¹å¾ï¼Œè¿™æ ·çš„è¡Œå±äºè‡ªç„¶åŸºï¼ˆnatural basisï¼‰ã€‚æ ‘çš„èŠ‚ç‚¹åœ¨ç‰¹å¾çš„$dâ€™$ç»´éšæœºå­ç©ºé—´è¿›è¡Œæœ€ä¼˜åˆ†æ”¯<a href="#liaw2002classification">[1]</a>ï¼Œåœ¨æ£®æ—æˆé•¿è¿‡ç¨‹ä¸­ä¿æŒ$dâ€™$ä¸å˜ã€‚</p>

<p>C&amp;RTåˆ©ç”¨ç‰¹å¾çš„éšæœºæŠ½æ ·ç»„åˆï¼Œé€šè¿‡$\mathbf p_i$å¯¹ç‰¹å¾è¿›è¡ŒæŠ•å½±ï¼ˆç»„åˆï¼‰å®ç°ï¼Œ$\phi_i(\mathbf x)=\mathbf p_i^T\mathbf x$ï¼Œå¯ä»¥å¾—åˆ°æ›´å¼ºå¤§çš„ç‰¹å¾ç©ºé—´ã€‚é€šå¸¸é‡‡ç”¨ä½ç»´æŠ•å½±ï¼Œ$\mathbf p_i$åªæœ‰$dâ€™â€™$ä¸ªéé›¶å…ƒç´ ï¼š <br />
ï¼»3/3ï¼½RF ï¼ bagging ï¼‹ random-combination C&amp;RTã€‚ <br />
é‡‡ç”¨éšæœºç»„åˆæ–¹å¼çš„C&amp;RTï¼Œæ¯ä¸ªåˆ†æ”¯å‡½æ•°$b(\mathbf x)$ç›¸å½“äºæ„ŸçŸ¥å™¨ï¼ˆçº¿æ€§åˆ†ç±»å™¨ï¼‰ã€‚éšæœºå­ç©ºé—´æ˜¯$dâ€™â€™=1$çš„ç‰¹æ®Šæƒ…å†µï¼Œä¸”$\mathbf p_i$å±äºè‡ªç„¶åŸºã€‚</p>

<p><a href="http://www.quora.com/What-is-the-out-of-bag-error-in-Random-Forests">Quora</a>ç»™å‡ºäº†éšæœºæ£®æ—é€šä¿—çš„è§£é‡Šã€‚éšæœºæ£®æ—äº§ç”Ÿä¸åŒ$g_t$ï¼ˆä¹Ÿå°±æ˜¯C&amp;RTï¼‰éœ€è¦çš„éšæœºæ€§æ¥æºäºä¸¤æ–¹é¢ï¼šbootstrapå¯¹æ•°æ®é›†çš„éšæœºæŠ½æ ·å’ŒC&amp;RTä¸­å¯¹ç‰¹å¾çš„éšæœºæŠ½æ ·ç»„åˆã€‚</p>

<p>éšæœºæ£®æ—çš„æ³›åŒ–è¯¯å·®ç”±ä¸¤æ–¹é¢å†³å®š<a href="#breiman2001random">[2]</a>ï¼š</p>

<ol>
  <li>æ£®æ—ä¸­ä»»æ„ä¸¤æ£µæ ‘çš„ç›¸å…³æ€§å¢åŠ ï¼Œéšæœºæ£®æ—çš„è¯¯å·®å¢åŠ ï¼›</li>
  <li>å•é¢—æ ‘çš„èƒ½åŠ›è¶Šå¼ºï¼Œéšæœºæ£®æ—çš„è¯¯å·®è¶Šä½ã€‚</li>
</ol>

<p>ç‰¹å¾æŠ½å–æ•°é‡$dâ€™$æ˜¯éšæœºæ£®æ—æ•æ„Ÿçš„å”¯ä¸€å¯è°ƒèŠ‚å‚æ•°ï¼ˆå¦ä¸€ä¸ªå‚æ•°æ˜¯æ£®æ—ä¸­æ ‘çš„æ•°é‡ï¼‰ï¼Œå¯é€šè¿‡åæ–‡çš„$E_{oob}$ç¡®å®šã€‚å‡å°$dâ€™$ï¼Œèƒ½å¤Ÿé™ä½æ ‘ä¹‹é—´çš„ç›¸å…³æ€§ï¼ŒåŒæ—¶ä¹Ÿå‰Šå¼±äº†æ ‘çš„èƒ½åŠ›ã€‚</p>

<h2 id="oob">åŸºäºOOBæ•°æ®é›†çš„éªŒè¯</h2>

<div class="image_line" id="figure-1"><div class="image_card"><a href="/assets/images/2015-01-24-random-forest-out-of-bag-examples.png"><img src="/assets/images/2015-01-24-random-forest-out-of-bag-examples.png" alt="ï¼»å·¦ï¼½ï¼šout-of-sampleæ•°æ®ç‚¹ï¼›ï¼»å³ï¼½ï¼šéªŒè¯é›†" /></a><div class="caption">å›¾ 1:  ï¼»å·¦ï¼½ï¼šout-of-sampleæ•°æ®ç‚¹ï¼›ï¼»å³ï¼½ï¼šéªŒè¯é›† [<a href="/assets/images/2015-01-24-random-forest-out-of-bag-examples.png">PNG</a>]</div></div></div>

<p>é‡‡ç”¨baggingçš„æ—¶å€™ï¼Œæ²¡è¢«é€‰ä¸­æ•°æ®ç‚¹ç§°ä¸ºout-of-bagï¼ˆOOBï¼‰æ•°æ®ï¼Œå¦‚ä¸Šå›¾å·¦æ‰€ç¤ºï¼Œæ˜Ÿå·æ ‡æ³¨çš„OOBæ•°æ®æ²¡æœ‰å‚ä¸è®­ç»ƒ$g_t$ã€‚å½“$Nâ€™=N$æ—¶ï¼Œå¯¹ä»»æ„$g_t$ï¼Œä»»ä¸€æ•°æ®ç‚¹$(\mathbf x_n,y_n)$æ˜¯OOBçš„æ¦‚ç‡æ˜¯$\left(1-{1\over N}\right)^N$ï¼Œ$N$å¾ˆå¤§æ—¶ï¼Œè¿™ä¸ªæ¦‚ç‡æ˜¯${1\over e}$ã€‚è®­ç»ƒæ¯ä¸ª$g_t$æ—¶ï¼ŒOOBæ•°æ®é›†å¤§å°çº¦ä¸º${Ne^{-1}}$ï¼Œä¹Ÿå°±æ˜¯å¤§çº¦1/3çš„æ•°æ®æ²¡æœ‰å‚ä¸è®­ç»ƒã€‚å½“$Nâ€™=pN$æ—¶ï¼ŒOOBæ•°æ®é›†å¤§å°çº¦ä¸º${Ne^{-p}}$ã€‚</p>

<p>å³ä½¿$g_t$æ•ˆæœä¸ç†æƒ³ï¼Œèåˆåçš„åˆ†ç±»å™¨$G$ä»ç„¶å¯ä»¥è¾¾åˆ°å¾ˆå¥½çš„æ•ˆæœï¼Œå› æ­¤ä¸éœ€è¦éªŒè¯æ¯ä¸ª$g_t$ã€‚åˆ©ç”¨OOBæ•°æ®é›†æ›¿ä»£éªŒè¯é›†ï¼Œè¯„ä¼°éšæœºæ£®æ—çš„æ³›åŒ–æ€§èƒ½ã€‚$G_n^-$è¡¨ç¤ºèåˆæ‰€æœ‰ä»¥$(\mathbf x_n,y_n)$ä½œä¸ºOOBæ•°æ®ç‚¹çš„åˆ†ç±»å™¨ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨äºéªŒè¯çš„OOBæ•°æ®éƒ½æ²¡è¢«è®­ç»ƒæ±¡æŸ“ã€‚ç”±ä¸Šå›¾å·¦æœ€ä¸‹ä¸€è¡Œå¯å¾—ä¸€ç§ä»¥$(\mathbf x_N,y_N)$ä¸ºOOBæ•°æ®ç‚¹çš„åˆ†ç±»å™¨èåˆæ–¹å¼$G_N^-=\mbox{average}(g_2,g_3,\ldots,g_T)$ã€‚åˆ©ç”¨OOBæ•°æ®é›†çš„åˆ†ç±»å™¨è¯¯å·®ï¼ˆé”™è¯¯ç‡ï¼‰å®šä¹‰ä¸º
\begin{equation}
E_{oob}(G)={1\over N}\sum_{n=1}^Nerr\left(y_n,G_n^-(\mathbf x_n)\right)ï¼Œ
\end{equation}
ä¹Ÿå°±æ˜¯é€šè¿‡$G_n^-$å¯¹æ¯ä¸ªOOBæ•°æ®ç‚¹çš„åˆ†ç±»é”™è¯¯ä¼°è®¡æ€»ä½“è¯¯å·®ã€‚å¢åŠ æ ‘çš„åŒæ—¶å¯è®¡ç®—æ ‘åœ¨OOBæ•°æ®ä¸Šçš„è¯¯å·®ï¼Œåœ¨éšæœºæ£®æ—è®­ç»ƒç»“æŸä¹‹åå†ç»¼åˆå¯å¾—$E_{oob}(G)$ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­åŠ¨æ€å¢åŠ æ ‘ä¸éœ€é‡æ–°è®­ç»ƒå’ŒéªŒè¯ã€‚åŸºäºOOBæ•°æ®é›†ä¼°è®¡çš„è¯¯å·®å’Œäº¤å‰éªŒè¯ç›¸è¿‘ï¼Œä½†äº¤å‰éªŒè¯è®¡ç®—å¤æ‚åº¦é«˜ï¼Œ$E_{oob}(G)$å¯ä»£æ›¿$E_{val}(G)$ä½œä¸ºéšæœºæ£®æ—æ³›åŒ–è¯¯å·®çš„æ— åä¼°è®¡<sup id="fnref:OOB-observer"><a href="#fn:OOB-observer" class="footnote">2</a></sup>ã€‚</p>

<div class="image_line" id="figure-2"><div class="image_card"><a href="/assets/images/2015-01-24-random-forest-oob-validation.png"><img src="/assets/images/2015-01-24-random-forest-oob-validation.png" alt="ï¼»å·¦ï¼½ï¼šéªŒè¯é›†æ–¹æ³•ï¼»å³ï¼½ï¼šOOBé›†æ–¹æ³•" /></a><div class="caption">å›¾ 2:  ï¼»å·¦ï¼½ï¼šéªŒè¯é›†æ–¹æ³•ï¼»å³ï¼½ï¼šOOBé›†æ–¹æ³• [<a href="/assets/images/2015-01-24-random-forest-oob-validation.png">PNG</a>]</div></div></div>

<p>ä¸Šå›¾æ˜¯åŸºäº$E_{val}$å’ŒåŸºäº$E_{oob}$çš„éªŒè¯æ–¹æ³•å¯¹æ¯”ï¼Œå½“æ£®æ—ä¸­æœ‰è¶³å¤Ÿå¤šçš„æ ‘æ—¶ï¼Œ$E_{oob}$é€šå¸¸èƒ½æ›´å‡†ç¡®çš„è¡¡é‡$G$çš„æ€§èƒ½<a href="#bylander2002estimating">[3]</a>ã€‚åˆ©ç”¨$E_{oob}$è¿›è¡Œ$dâ€™â€™$ç­‰å‚æ•°é€‰æ‹©ï¼Œä¸éœ€è¦åƒäº¤å‰éªŒè¯ä¸€æ ·é’ˆå¯¹æ¯ä»½éªŒè¯é›†é‡æ–°è®­ç»ƒåˆ†ç±»å™¨ï¼Œä¹Ÿæ²¡æœ‰é€‰æ‹©äº†$g_{m^*}^-$å†å›åˆ°æ•´ä¸ªè®­ç»ƒé›†å¾—åˆ°çš„$g_{m^*}$çš„æ­¥éª¤ã€‚åˆ©ç”¨$E_{oob}(G)$ï¼Œbaggingå’ŒRFå®ç°äº†è‡ªéªŒè¯ï¼ˆself-validationï¼‰ã€‚</p>

<h2 id="section-2">ç‰¹å¾é€‰æ‹©</h2>

<p>ç‰¹å¾é€‰æ‹©å°±æ˜¯ç§»é™¤å†—ä½™ï¼ˆredundantï¼‰å’Œä¸ç›¸å…³ï¼ˆirrelevantï¼‰çš„ç‰¹å¾ã€‚ç‰¹å¾é€‰æ‹©çš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p>

<ul>
  <li>é«˜æ•ˆï¼šè®©å‡è®¾é›†åˆç®€å•ï¼Œé¢„æµ‹æ—¶é—´å˜çŸ­ï¼›</li>
  <li>æå‡æ³›åŒ–èƒ½åŠ›ï¼šç§»é™¤ç‰¹å¾çš„åŒæ—¶ä¹Ÿç§»é™¤äº†ç‰¹å¾ä¸­çš„å™ªå£°ï¼›</li>
  <li>å¢å¼ºå¯ç†è§£æ€§ï¼šå‰©ä½™çš„ç‰¹å¾å¯¹ç»“æœçš„è§£é‡Šæ€§æ›´å¼ºï¼›</li>
</ul>

<p>ä½†ä¹Ÿå­˜åœ¨ç›¸åº”çš„ç¼ºç‚¹ï¼š</p>

<ul>
  <li>è®¡ç®—é‡å¤§ï¼šä»ç‰¹å¾ç©ºé—´é€‰æ‹©é‡è¦çš„ç‰¹å¾å­é›†æœ¬èº«æ˜¯ç»„åˆä¼˜åŒ–é—®é¢˜ï¼›</li>
  <li>è¿‡æ‹Ÿåˆï¼šæ°å¥½é€‰åˆ°é‚£äº›ç»“æœçœ‹ä¼¼å¾ˆå¥½çš„ç‰¹å¾ç»„åˆï¼›</li>
  <li>è¯¯è§£é‡Šï¼šç‰¹åˆ«æ˜¯å­˜åœ¨è¿‡æ‹Ÿåˆæ—¶ï¼Œå¯èƒ½å¾—åˆ°ç»“æœçš„é”™è¯¯è§£é‡Šï¼Œæˆ–è€…åªèƒ½å¾—å‡ºå…³è”æ€§è€Œéå› æœå…³ç³»ã€‚</li>
</ul>

<p>å†³ç­–æ ‘æœ¬èº«å…·å¤‡ç‰¹å¾é€‰æ‹©çš„èƒ½åŠ›ï¼Œæ¯æ¬¡åœ¨æŸä¸ªç‰¹å¾ä¸Šè¿›è¡Œåˆ†å‰²ï¼Œç”¨åˆ°çš„é‚£äº›ç‰¹å¾å°±æ˜¯è¢«é€‰æ‹©çš„ç‰¹å¾ï¼Œè¿™å’Œdecision stumpç±»ä¼¼ã€‚</p>

<p>ç‰¹å¾é€‰æ‹©çš„ç®€å•ç†æƒ³æƒ…å†µæ˜¯ä¸è€ƒè™‘ç‰¹å¾ç»„åˆçš„å½±å“ï¼Œè®¡ç®—æ¯ä¸ªç‰¹å¾çš„é‡è¦æ€§ï¼Œä»$d$ç»´ç‰¹å¾ä¸­é€‰æ‹©æœ€é‡è¦çš„$dâ€™$ç»´ç‰¹å¾ã€‚é€šè¿‡çº¿æ€§æ¨¡å‹å®¹æ˜“å®ç°
\[
score = \mathbf w^T\mathbf x=\sum_{i=1}^dw_ix_iï¼Œ
\]
å¯¹è‰¯å¥½çš„$\mathbf w$ï¼ˆèƒ½å¯¹ç‰¹å¾åˆç†è¯„åˆ†ï¼‰ï¼Œç¬¬$i$ç»´ç‰¹å¾çš„é‡è¦æ€§ä¸º$\mbox{importance}(i)=|w_i|$ï¼Œé‡è¦æ€§å¤§çš„å¯¹å¾—åˆ†è´¡çŒ®å°±å¤§ï¼Œä¹Ÿå°±æ˜¯é‡è¦çš„ç‰¹å¾ã€‚$\mathbf w$å¯é€šè¿‡æ•°æ®å­¦ä¹ åˆ°ã€‚å¯¹äºéçº¿æ€§æ¨¡å‹ï¼Œç‰¹å¾é€‰æ‹©é€šå¸¸æ¯”è¾ƒå¤æ‚ã€‚è™½ç„¶RFæ˜¯éçº¿æ¨¡å‹ï¼Œä½†æ˜¯ç”±äºå†…åœ¨çš„æœºåˆ¶ï¼Œé‡‡ç”¨<strong>éšæœºæµ‹è¯•</strong>ï¼ˆrandom testï¼‰ä¹Ÿèƒ½æ–¹ä¾¿é€‰æ‹©ç‰¹å¾ã€‚å¦‚æœç‰¹å¾$i$å¾ˆé‡è¦ï¼Œç”¨éšæœºå€¼$\mathbf x_{n,i}$ä»£æ›¿è¯¥ç‰¹å¾å°±ä¼šæå¤§é™ä½æ€§èƒ½ã€‚äº§ç”Ÿè¿™äº›éšæœºå€¼çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>

<ul>
  <li>é€šè¿‡å‡åŒ€åˆ†å¸ƒæˆ–é«˜æ–¯åˆ†å¸ƒäº§ç”Ÿï¼šçœŸå®æ•°æ®çš„åˆ†å¸ƒ$P(x_i)$å¯èƒ½å¹¶ä¸æœä»è¿™äº›åˆ†å¸ƒï¼Œä¸ä»…åŠ å…¥äº†å™ªå£°ï¼Œè€Œä¸”æ”¹å˜äº†åˆ†å¸ƒï¼Œä¸æ˜¯ç†æƒ³çš„æ–¹æ³•ã€‚</li>
  <li>bootstrapæˆ–è€…ç»„åˆï¼ˆpermutationï¼‰æ–¹æ³•ï¼šé‡æ–°æ’åˆ—ç‰¹å¾ï¼ˆç±»ä¼¼æ´—ç‰Œï¼‰ï¼Œè¿™æ ·å¯ä¿æŒç¬¬$i$ç»´ç‰¹å¾çš„åˆ†å¸ƒ$P(x_i)$ä¸å˜ã€‚</li>
</ul>

<p>åˆ©ç”¨ç»„åˆæ–¹æ³•é‡æ’ç‰¹å¾è¿›è¡Œæ€§èƒ½æµ‹è¯•ç§°ä¸º<strong>ç»„åˆæµ‹è¯•</strong>ï¼ˆpermutation testï¼‰ï¼Œ
\[
\mbox{importance}(i)=\mbox{importance}(\mathcal D)-\mbox{importance}\left(\mathcal D^{(p)}\right)ï¼Œ
\]
$\mathcal D^{(p)}$è¡¨ç¤º$\mathcal D$çš„ç¬¬$i$ç»´ç‰¹å¾$\{x_{n,i}\}$ç»è¿‡é‡æ–°â€œæ´—ç‰Œâ€ã€‚ç»„åˆæµ‹è¯•æ˜¯ä¸€ç§ç»Ÿè®¡å·¥å…·ï¼Œå¯ä»¥ç”¨äºç±»ä¼¼RFçš„å…¶å®ƒéçº¿æ€§æ¨¡å‹ã€‚è®¡ç®—$\mbox{importance}\left(\mathcal D^{(p)}\right)$é€šå¸¸éœ€è¦åœ¨$\mathcal D^{(p)}$ä¸Šé‡æ–°è®­ç»ƒå’ŒéªŒè¯ï¼Œä½†æ˜¯RFå¯ä»¥ä¸é‡æ–°è®­ç»ƒï¼Œ
\[
\mbox{importance}(i)=E_{oob}(G)-E_{oob}^{(p)}(G)ï¼Œ
\]
åœ¨è®¡ç®—$E_{oob}(G)$è¿‡ç¨‹ä¸­ï¼Œå½“$g_t$éœ€è¦ç¬¬$i$ç»´ç‰¹å¾$x_{n,i}$æ—¶ï¼Œéšæœºé€‰æ‹©$g_t$çš„ä¸€ä¸ªOOBæ•°æ®ç‚¹çš„ç¬¬$i$ç»´ç‰¹å¾æ›¿ä»£ï¼ˆç¡®ä¿éªŒè¯æ•°æ®æ²¡æœ‰å‚ä¸è®­ç»ƒï¼‰ï¼Œè¿™æ ·å°±å¯å¾—åˆ°$E_{oob}^{(p)}(G)$ã€‚</p>

<p>åœ¨å®é™…ä¸­ï¼Œåˆ©ç”¨RFé€šè¿‡â€œpermutation + OOBâ€è¿›è¡Œç‰¹å¾é€‰æ‹©ï¼Œé€šå¸¸é«˜æ•ˆå¯è¡Œï¼Œå¯ä½œä¸ºå¤„ç†å…¶å®ƒéçº¿æ€§é—®é¢˜çš„ç‰¹å¾é€‰æ‹©å·¥å…·ã€‚</p>

<h2 id="section-3">éšæœºæ£®æ—çš„ç‰¹æ€§</h2>

<blockquote>
  <h4 id="leo-breimanadele-cutlera-hrefbreimanwebintrorf4a">Leo Breimanå’ŒAdele Cutlerè¿™æ ·è¯´<a href="#BreimanWebIntroRF">[4]</a></h4>
  <hr />

  <ul>
    <li>It is unexcelled in accuracy among current algorithms.</li>
    <li>It runs efficiently on large data bases.</li>
    <li>It can handle thousands of input variables without variable deletion.</li>
    <li>It gives estimates of what variables are important in the classification.</li>
    <li>It generates an internal unbiased estimate of the generalization error as the forest building progresses.</li>
    <li>It has an effective method for estimating missing data and maintains accuracy when a large proportion of the data are missing.</li>
    <li>It has methods for balancing error in class population unbalanced data sets.</li>
    <li>Generated forests can be saved for future use on other data.</li>
    <li>Prototypes are computed that give information about the relation between the variables and the classification.</li>
    <li>It computes proximities between pairs of cases that can be used in clustering, locating outliers, or (by scaling) give interesting views of the data.</li>
    <li>The capabilities of the above can be extended to unlabeled data, leading to unsupervised clustering, data views and outlier detection.</li>
    <li>It offers an experimental method for detecting variable interactions.</li>
  </ul>
</blockquote>

<p>éšæœºæ£®æ—ä¸ä¼šè¿‡æ‹Ÿåˆï¼Œå¯ä»¥å°½æƒ…çš„å¢åŠ æ ‘çš„æ•°é‡<a href="#BreimanWebIntroRF">[4]</a>ã€‚é€šå¸¸éšæœºæ£®æ—éœ€è¦çš„æ ‘è¶Šå¤šè¶Šå¥½ğŸŒ²ğŸŒ²ğŸŒ²ğŸŒ²ï¼Œ$\bar g=\lim_{T\rightarrow\infty} G$ã€‚é€šè¿‡å¢å‡æ ‘åˆ¤æ–­éšæœºæ£®æ—æ˜¯å¦ç¨³å®šï¼Œç¡®ä¿æœ‰è¶³å¤Ÿå¤šçš„æ ‘ï¼Œå¦‚æœä¸å¤Ÿï¼Œç»§ç»­å¢åŠ ğŸŒ²ã€‚</p>

<p>è®¾éšæœºæ£®æ—ä¸­æœ‰$K$æ£µæ ‘$\{g_k\}_{k=1}^K$ï¼Œ$K$æ˜¯å¥‡æ•°ï¼Œè‹¥æ¯æ£µæ ‘0/1è¯¯å·®ä¸º$E_{out}(g_k)=e_k$ã€‚å½“è‡³å°‘æœ‰$K+1\over 2$æ£µæ ‘éƒ½å¯¹æŸä¸ªæ•°æ®åˆ†é”™æ—¶$G$æ‰ä¼šå°†å…¶é”™åˆ†ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªé”™åˆ†ç‚¹æœ€å°‘è¦â€œæ¶ˆè€—â€æ‰$K+1\over 2$æ£µæ ‘ï¼Œéšæœºæ£®æ—ä¸­é”™åˆ†çš„æ•°æ®é‡ä¸º$N\cdot E_{out}(G)$ï¼Œ$K$æ£µæ ‘æœ€å¤šå¯èƒ½çš„é”™åˆ†æ•°æ®é‡ä¸º$\sum_{k=1}^KN\cdot e_k$ï¼Œé‚£ä¹ˆæœ‰
\[
{K+1\over 2}\cdot N\cdot E_{out}(G)\leq \sum_{k=1}^KN\cdot e_kï¼Œ
\]
ç”±æ­¤å¯ä»¥å¾—åˆ°éšæœºæ£®æ—çš„<a href="https://class.coursera.org/ntumltwo-001/forum/thread?thread_id=270">è¯¯å·®ä¸Šç•Œ</a>
\[
E_{out}(G)\leq {2\over K+1}\sum_{k=1}^KE_{out}(g_k)ã€‚
\]</p>

<p>å°æ¹¾å¤§å­¦åœ¨KDDCup 2013ä¸­å‘ç°ï¼Œéšæœºæ£®æ—çš„$E_{val}$è¡¨ç°ä¾èµ–åˆå§‹çš„ç§å­ç‚¹ï¼Œæœ€ç»ˆé€šè¿‡å°†æ ‘å¢åŠ åˆ°12000è¯¾ï¼Œå›ºå®šç§å­ä¸º1ï¼Œå¤ºå¾—äº†å† å†›ğŸ†ã€‚</p>

<h4 id="section-4">ä»¥ä¸‹å›¾ç‰‡å±•ç¤ºäº†éšæœºæ£®æ—çš„ä¼˜ç‚¹ï¼š</h4>

<div class="image_line" id="figure-3"><div class="image_card"><a href="/assets/images/2015-01-24-random-forest-large-margin.png"><img src="/assets/images/2015-01-24-random-forest-large-margin.png" alt="é€šè¿‡å¤šæ£µæ ‘å¾—åˆ°å¹³æ»‘å’Œç±»ä¼¼æœ€å¤§è¾¹ç•Œçš„åˆ¤åˆ«ç•Œ" /></a><div class="caption">å›¾ 3:  é€šè¿‡å¤šæ£µæ ‘å¾—åˆ°å¹³æ»‘å’Œç±»ä¼¼æœ€å¤§è¾¹ç•Œçš„åˆ¤åˆ«ç•Œ [<a href="/assets/images/2015-01-24-random-forest-large-margin.png">PNG</a>]</div></div></div>

<div class="image_line" id="figure-4"><div class="image_card"><a href="/assets/images/2015-01-24-random-forest-robust-nonlinear-model.jpg"><img src="/assets/images/2015-01-24-random-forest-robust-nonlinear-model.jpg" alt="å®¹æ˜“å¾—åˆ°é²æ£’çš„éçº¿æ€§æ¨¡å‹" /></a><div class="caption">å›¾ 4:  å®¹æ˜“å¾—åˆ°é²æ£’çš„éçº¿æ€§æ¨¡å‹ [<a href="/assets/images/2015-01-24-random-forest-robust-nonlinear-model.jpg">JPG</a>]</div></div></div>

<div class="image_line" id="figure-5"><div class="image_card"><a href="/assets/images/2015-01-24-random-forest-noise-corrected.jpg"><img src="/assets/images/2015-01-24-random-forest-noise-corrected.jpg" alt="é€šè¿‡æŠ•ç¥¨æœºåˆ¶æ¶ˆé™¤å™ªå£°çš„å¹²æ‰°" /></a><div class="caption">å›¾ 5:  é€šè¿‡æŠ•ç¥¨æœºåˆ¶æ¶ˆé™¤å™ªå£°çš„å¹²æ‰° [<a href="/assets/images/2015-01-24-random-forest-noise-corrected.jpg">JPG</a>]</div></div></div>

<h2 id="section-5">éšæœºæ£®æ—çš„åº”ç”¨</h2>

<p>åŸºäºRè¯­è¨€çš„randomForeståº”ç”¨èŒƒä¾‹<a href="#liaw2002classification">[1]</a>ã€‚</p>

<h2 id="section-6">å‚è€ƒèµ„æ–™</h2>

<ol class="bibliography"><li><span id="liaw2002classification">[1]A. Liaw and M. Wiener, â€œClassification and regression by randomForest,â€ <i>R news</i>, vol. 2, no. 3, pp. 18â€“22, 2002.</span>

</li>
<li><span id="breiman2001random">[2]L. Breiman, â€œRandom forests,â€ <i>Machine learning</i>, vol. 45, no. 1, pp. 5â€“32, 2001.</span>

</li>
<li><span id="bylander2002estimating">[3]T. Bylander, â€œEstimating generalization error on two-class datasets using out-of-bag estimates,â€ <i>Machine Learning</i>, vol. 48, no. 1-3, pp. 287â€“297, 2002.</span>

</li>
<li><span id="BreimanWebIntroRF">[4]L. Breiman and A. Cutler, â€œRandom Forests.â€ .</span>

[<a href="http://www.stat.berkeley.edu/Â breiman/RandomForests/cc_home.htm">Online</a>]

</li></ol>

<h3 id="section-7">è„šæ³¨</h3>

<div class="footnotes">
  <ol>
    <li id="fn:small-subspace">
      <p>è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äºå…¶å®ƒæœºå™¨å­¦ä¹ æ¨¡å‹ã€‚ <a href="#fnref:small-subspace" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:OOB-observer">
      <p>Not reliable enough to use as an estimate for error on a separate test set (will typically under-estimate error), but still very useful to observe after adding each tree to verify that your forest is still learning. If it stops decreasing for a few iterations stop adding trees. <a href="http://www.quora.com/How-reliable-are-Random-Forest-OOB-error-estimates">Qoura</a> <a href="#fnref:OOB-observer" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

</section>
<section align="left">
<p></p>
<hr>
  <p><img/ src="/assets/images/alipay2me.png" alt="æ‰“èµä½œè€…" style="height: 160px"></p>
  <p></p>
<hr>
  <ul>
    
    <li class="pageNav">2016-02-29 &raquo; <a href="/2016/02/introduction-to-computer-vision">CS231nï¼ˆ1ï¼‰ï¼šè®¡ç®—æœºè§†è§‰ç®€ä»‹</a></li>
    
    <li class="pageNav">2015-10-13 &raquo; <a href="/2015/10/minimum-cut-based-inference">DILinAVï¼ˆ4ï¼‰ï¼šåŸºäºæœ€å°å‰²çš„æ¨ç†</a></li>
    
    <li class="pageNav">2015-09-26 &raquo; <a href="/2015/09/fast-ncc">å¿«é€Ÿå½’ä¸€åŒ–äº’ç›¸å…³</a></li>
    
    <li class="pageNav">2015-09-25 &raquo; <a href="/2015/09/maximum-flow-and-minimum-cut">DILinAVï¼ˆ3ï¼‰ï¼šæœ€å¤§æµä¸æœ€å°å‰²</a></li>
    
    <li class="pageNav">2015-09-22 &raquo; <a href="/2015/09/reparameterization-and-dp">DILinAVï¼ˆ2ï¼‰ï¼šé‡å‚æ•°åŒ–ä¸åŠ¨æ€è§„åˆ’</a></li>
    
    <li class="pageNav">2015-09-19 &raquo; <a href="/2015/09/introduction-to-av-with-dgm">DILinAVï¼ˆ1ï¼‰ï¼šåŸºäºç¦»æ•£å›¾æ¨¡å‹çš„äººå·¥è§†è§‰ç®€ä»‹</a></li>
    
    <li class="pageNav">2015-09-16 &raquo; <a href="/2015/09/haze-removal-kaiming">å»é›¾éœ¾ï¼šåŸºäºå•å›¾çš„æš—é€šé“æ–¹æ³•</a></li>
    
    <li class="pageNav">2015-08-13 &raquo; <a href="/2015/08/tesseract-ocr">å¼€æºOCRå¼•æ“Tesseract</a></li>
    
  </ul>
<p></p>
<span>
  <a  href="/2015/01/decision-tree" class="pageNav" style="float:left"   >ä¸Šä¸€ç¯‡ï¼šåˆ†ç±»å™¨èåˆï¼ˆ3ï¼‰ï¼šå†³ç­–æ ‘ </a>
  &nbsp;&nbsp;&nbsp;
  <a  href="/2015/01/linear-models-for-classification" class="pageNav" style="float:right"   >ä¸‹ä¸€ç¯‡ï¼šçº¿æ€§åˆ†ç±»æ¨¡å‹ </a>  
</span>
</section>

	<script type="text/javascript">
	var first_image = document.getElementsByClassName("post")[0].getElementsByTagName("img")[0]; 
	if (first_image != undefined) {
	document.getElementsByClassName("ds-thread")[0].setAttribute("data-image", first_image.src);
	}
	</script>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"jiyeqian"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<ul class="ds-recent-visitors" data-num-items="16"></ul>
	<div class="ds-thread"  data-thread-key="/2015/01/random-forest" 	data-url="http://qianjiye.de/2015/01/random-forest" data-title="åˆ†ç±»å™¨èåˆï¼ˆ4ï¼‰ï¼šéšæœºæ£®æ—">
	</div>	


<!-- <script type="text/javascript"> -->
<!-- $(function(){ -->
<!--   $(document).keydown(function(e) { -->
<!--     var url = false; -->
<!--         if (e.which == 37 || e.which == 72) {  // Left arrow and H -->
<!--          -->
<!--         url = '/2015/01/decision-tree'; -->
<!--          -->
<!--         } -->
<!--         else if (e.which == 39 || e.which == 76) {  // Right arrow and L -->
<!--          -->
<!--         <1!-- url = 'http://qianjiye.de/2015/01/linear-models-for-classification'; --1> -->
<!--         url = '/2015/01/linear-models-for-classification'; -->
<!--          -->
<!--         } else if (e.which == 75) {  // K -->
<!--           url = '#'; -->
<!--         } else if (e.which == 74) { // J -->
<!--         url = '/2015/01/random-forest/#timeSpan'; -->
<!--         } -->
<!--         if (url) { -->
<!--             window.location = url; -->
<!--         } -->
<!--   }); -->
<!-- }) -->
<!-- </script> -->

        </article>
      </div>

    <footer>
        <p><small>
            Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a> | Copyright 2014 - 2016 by <a href="/about/">Jiye Qian</a> | <span class="label label-info" id="timeSpan"></span></small></p>
    </footer>

    </div>
  </body>
</html>
